<div class="container pt-4">
  <h4 class="fw-bold">Register Now! : </h4>


  <form class="mt-3" (ngSubmit)="handleRegister(registerForm)" [formGroup]="registerForm">

    <!-- <h2>{{registerForm.get('name')?.getError('minlength')|json}}</h2> -->

    <div *ngIf="apiError" class="alert alert-danger ">
      {{apiError}}
    </div>

    <label for="name">Name: </label>
    <input type="text" formControlName="name" class="form-control mb-3 " id="name">
    <div *ngIf="registerForm.get('name')?.errors &&  registerForm.get('name')?.touched"class="alert alert-danger">
      <p *ngIf="registerForm.get('name')?.getError('minlength')" class="m-0">Name minimum length is 3</p>
      <p *ngIf="registerForm.get('name')?.getError('required')" class="m-0">Name is required</p>
    </div>




    <label for="email">Email: </label>
    <input type="email" formControlName="email" class="form-control mb-3" id="email">
    <div class="alert alert-danger" *ngIf="registerForm.get('email')?.errors && registerForm.get('email')?.touched " >
      <p *ngIf="registerForm.get('email')?.getError('email')" class="m-0">Email is not valid</p>
      <p *ngIf="registerForm.get('email')?.getError('required')" class="m-0">Email is required</p>
    </div>


    <label for="password">Password: </label>
    <input type="password" formControlName="password" class="form-control mb-3 " id="password">
    <div class="alert alert-danger" *ngIf="registerForm.get('password')?.errors && registerForm.get('password')?.touched ">
      <p *ngIf="registerForm.get('password')?.getError('pattern')" >
        Password must be at least 6 characters long and can contain letters and digits.
      </p>
      <p *ngIf="registerForm.get('password')?.getError('required')" >Password is required</p>
    </div>




    <label for="rePassword">confirm Password: </label>
    <input type="password" formControlName="rePassword" class="form-control mb-3" id="rePassword">
    <div class="alert alert-danger"
     *ngIf="registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched ">
    </div>

    <p *ngIf="registerForm.hasError('required') && registerForm.get('rePassword')?.touched"  class="alert alert-danger m-0" >Password is required</p>

    <p *ngIf="registerForm.hasError('passwordMismatch') && registerForm.get('rePassword')?.touched " class="alert alert-danger m-0">
      Password and Confirm Password do not match.
    </p>





    <label for="phone">Phone: </label>
    <input type="tel" formControlName="phone" class="form-control mb-3" id="phone">
    <div *ngIf="registerForm.get('phone')?.getError('pattern')" class="alert alert-danger">Your phone number must only be Egyptian one</div>

    <button [disabled]="registerForm.invalid" type="submit" class="btn g-btn">

      <i *ngIf="isLoading"  class="disabled fas fa-spinner fa-spin"></i>
      <span *ngIf="!isLoading" >Signup</span>

    </button>



  </form>

  <div class="mt-3">
    <p class="d-inline-block">Already with us?</p>
    <a  routerLink="/login" class="text-primary cursor-pointer fs-6 fw-semibold ms-2">Login..</a>
  </div>
</div>
